<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
  <title>Ayat</title>
  <meta name="description" content="قراءة القرآن الكريم في ٣٠ يوم">
  <meta name="theme-color" content="#ffffff">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="default">
  <meta name="apple-mobile-web-app-title" content="Ayat">
  <link rel="manifest" href="manifest.json">
  <link rel="apple-touch-icon" href="icons/icon-192.png">
  <link rel="icon" href="icons/icon-192.png">
  <link rel="stylesheet" href="style.css">
</head>
<body>

<!-- ====== LOADING ====== -->
<div id="loading" class="loading">
  <div class="spinner"></div>
</div>

<!-- ====== MAIN APP ====== -->
<div id="app" class="hidden">

  <!-- Header -->
  <header class="header">
    <a href="#about" class="header-link" id="about-link">حول</a>
    <span class="header-title" id="header-title" dir="ltr">— Ayat</span>
    <button class="header-btn" id="settings-btn" aria-label="إعدادات">
      <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round">
        <circle cx="12" cy="12" r="3"/>
        <path d="M12 1v2M12 21v2M4.22 4.22l1.42 1.42M18.36 18.36l1.42 1.42M1 12h2M21 12h2M4.22 19.78l1.42-1.42M18.36 5.64l1.42-1.42"/>
      </svg>
    </button>
  </header>

  <!-- Ayah viewer -->
  <div class="ayah-container" id="ayah-container">
    <p class="ayah-ref" id="ayah-ref"></p>
    <div class="ayah-text size-M" id="ayah-text"></div>
    <button class="next-btn" id="next-btn" aria-label="الآية التالية">
      <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round">
        <polyline points="6 9 12 15 18 9"/>
      </svg>
    </button>
  </div>

  <!-- Goal reached -->
  <div class="goal-reached hidden" id="goal-reached">
    <p>هدف اليوم تحقق ✓</p>
    <button id="continue-btn">متابعة القراءة</button>
  </div>

  <!-- Progress bars -->
  <div class="progress-section">
    <div class="progress-row">
      <div class="progress-labels">
        <span>اليوم</span>
        <span id="today-label" dir="ltr">0/0</span>
      </div>
      <div class="progress-track">
        <div class="progress-fill-today" id="today-fill" style="width:0%"></div>
      </div>
    </div>
    <div class="progress-row">
      <div class="progress-labels">
        <span>الختمة</span>
        <span id="khatma-label" dir="ltr">0%</span>
      </div>
      <div class="progress-track">
        <div class="progress-fill-khatma" id="khatma-fill" style="width:0%"></div>
      </div>
    </div>
  </div>
</div>

<!-- ====== SETTINGS OVERLAY ====== -->
<div id="settings-overlay" class="overlay hidden">
  <div class="overlay-header">
    <h2>إعدادات</h2>
    <button class="close-btn" id="settings-close" aria-label="إغلاق">
      <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round">
        <line x1="18" y1="6" x2="6" y2="18"/><line x1="6" y1="6" x2="18" y2="18"/>
      </svg>
    </button>
  </div>
  <div class="overlay-body">
    <div class="setting-group">
      <div class="setting-label">عدد الختمات</div>
      <div class="setting-value" id="cycle-count">0</div>
    </div>
    <div class="setting-group">
      <div class="setting-label">الهدف</div>
      <div class="setting-buttons" id="goal-buttons">
        <button class="setting-btn active" data-goal="1">ختمة واحدة / ٣٠ يوم</button>
        <button class="setting-btn" data-goal="2">ختمتان / ٣٠ يوم</button>
      </div>
    </div>
    <div class="setting-group">
      <div class="setting-label">حجم الخط</div>
      <div class="setting-buttons" id="size-buttons">
        <button class="setting-btn" data-size="S">صغير</button>
        <button class="setting-btn active" data-size="M">وسط</button>
        <button class="setting-btn" data-size="L">كبير</button>
      </div>
    </div>
    <button class="reset-btn" id="reset-btn">إعادة تعيين</button>
  </div>
</div>

<!-- ====== ABOUT OVERLAY ====== -->
<div id="about-overlay" class="overlay hidden">
  <div class="overlay-header">
    <h2>حول</h2>
    <button class="close-btn" id="about-close" aria-label="إغلاق">
      <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round">
        <line x1="18" y1="6" x2="6" y2="18"/><line x1="6" y1="6" x2="18" y2="18"/>
      </svg>
    </button>
  </div>
  <div class="overlay-body">
    <div class="about-page" style="padding:0;min-height:auto;">
      <p>تطبيق بسيط لقراءة القرآن الكريم في ٣٠ يومًا. آية بآية، بدون تشتيت.</p>
      <hr class="divider">
      <p class="sub-label">مصدر النص</p>
      <p>نص القرآن الكريم برواية حفص (الرسم العثماني) مصدره مشروع <span class="highlight">Tanzil.net</span> عبر واجهة <span class="highlight">alquran.cloud</span>.</p>
      <p>الخط المستخدم: <span class="highlight">Amiri</span> — خط حر مفتوح المصدر (رخصة OFL).</p>
      <hr class="divider">
      <p class="sub-label">الخصوصية</p>
      <p>لا تتبع. لا تحليلات. لا حسابات. كل البيانات محفوظة محليًا على جهازك فقط.</p>
    </div>
  </div>
</div>

<script src="app.js"></script>
</body>
</html>
